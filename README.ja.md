# Whois Domain Date Prefix（Chrome 拡張）

この拡張機能は、WHOIS/RDAP から取得したドメインの作成日（例：`(2025.03.09)`）、登録期間（経過年数/日数）、有効期限を、ページ左上のフローティングパネルに一覧表示します。パネル内で対象範囲を切り替えできます。

- `SITE`: 現在のサイトのメインドメインのみ（既定）
- `ALL`: ページ内の**リンク/リソース**（`href`/`src`/`action` など）および**本文テキスト**に含まれるドメインも対象

## インストール（Ubuntu / Chrome）

1. `chrome://extensions/` を開く
2. **デベロッパーモード**を有効化
3. **パッケージ化されていない拡張機能を読み込む** をクリック
4. このフォルダを選択：`whois-domain-date-extension/`

## 使い方

- ツールバーの拡張機能アイコンをクリックして、現在のページのパネルを表示/非表示（見えない場合はパズルメニューから固定）。
- パネル内の範囲ドロップダウンで `SITE/ALL` を切り替え。
- 言語ドロップダウンでパネル言語を切り替え（`EN/中文/日本語`）。
- ヘッダーをドラッグして位置を移動（位置は保存されます）。
- パネルの端または右下をドラッグしてサイズ変更（サイズは `SITE/ALL` ごとに保存されます）。

## メモ

- 既定では、拡張機能が許可されているすべてのサイトで動作します（`chrome://...` などの内部ページは Chrome により除外）。
- WHOIS 取得のために `https://whois.freeaiapi.xyz/` に問い合わせます（ページ上で見つかったドメイン名が送信されます）。
- WHOIS が未対応の TLD の場合は、`https://rdap.org/` 経由で RDAP（必要に応じて権威 RDAP サーバーへリダイレクト）にフォールバックします。
- 誤検出を減らすため、TLD 検証用に `https://data.iana.org/` から公開 IANA TLD リストをダウンロードし、ローカルにキャッシュする場合があります。
- リンク内にしか出てこないドメインも一覧化できるため、見落とし防止に役立ちます。
- 複数階層のサフィックス対応は限定的です（例：`co.uk`、`com.cn` は対応、すべての Public Suffix に対応しているわけではありません）。
- 表示形式を変更しても古い値が見える場合は、拡張機能を再読み込みするとキャッシュが再構築されます。

## プライバシー

- プライバシーポリシー（ソース）：`whois-domain-date-extension/PRIVACY.md`
- Chrome Web Store 用（公開ページ）：`whois-domain-date-extension/docs/privacy-policy.html` を公開し、その URL をストアのプライバシーポリシー欄に設定（例：GitHub Pages の場合 `https://<user>.github.io/<repo>/privacy-policy.html`）
